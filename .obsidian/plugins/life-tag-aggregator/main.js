/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// main.ts
var main_exports = {};
__export(main_exports, {
  default: () => LifeTagAggregatorPlugin
});
module.exports = __toCommonJS(main_exports);
var import_obsidian = require("obsidian");
var DEFAULT_SETTINGS = {
  sourceFile: "Life.md",
  outputFolder: "Aggregates",
  dateHeadingRegex: "^#\\s+(\\d{4}-\\d{2}-\\d{2})\\s*$",
  tagHeadingLevel: 2,
  groupByDate: true,
  includeBacklinks: true,
  debounceMs: 500,
  autoAddTodayHeader: true,
  defaultTags: "journal"
};
var LifeTagAggregatorPlugin = class extends import_obsidian.Plugin {
  constructor() {
    super(...arguments);
    this.lastUpdateTime = null;
  }
  async onload() {
    await this.loadSettings();
    this.debouncedRebuild = (0, import_obsidian.debounce)(
      () => this.rebuildAggregates(),
      this.settings.debounceMs,
      true
    );
    this.addCommand({
      id: "rebuild-tag-aggregates",
      name: "Rebuild Tag Aggregates",
      callback: () => this.rebuildAggregates(true)
    });
    this.addCommand({
      id: "add-today-header",
      name: "Add Today's Date Header",
      callback: () => this.ensureTodayHeader(true)
    });
    this.addSettingTab(new LifeTagAggregatorSettingTab(this.app, this));
    this.registerEvent(
      this.app.vault.on("modify", (file) => {
        if (file instanceof import_obsidian.TFile && file.path === this.settings.sourceFile) {
          this.debouncedRebuild();
        }
      })
    );
    this.registerEvent(
      this.app.vault.on("rename", (file, oldPath) => {
        if (oldPath === this.settings.sourceFile && file instanceof import_obsidian.TFile) {
          this.settings.sourceFile = file.path;
          this.saveSettings();
        }
      })
    );
    this.app.workspace.onLayoutReady(() => {
      this.rebuildAggregates();
      if (this.settings.autoAddTodayHeader) {
        this.ensureTodayHeader(false);
      }
    });
    this.registerEvent(
      this.app.workspace.on("file-open", (file) => {
        if (this.settings.autoAddTodayHeader && file instanceof import_obsidian.TFile && file.path === this.settings.sourceFile) {
          this.ensureTodayHeader(false);
        }
      })
    );
  }
  onunload() {
  }
  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
  }
  async saveSettings() {
    await this.saveData(this.settings);
    this.debouncedRebuild = (0, import_obsidian.debounce)(
      () => this.rebuildAggregates(),
      this.settings.debounceMs,
      true
    );
  }
  // ───────────────────────────────────────────────────────────────────────────
  // Today's Date Header
  // ───────────────────────────────────────────────────────────────────────────
  getTodayDateString() {
    const today = new Date();
    const year = today.getFullYear();
    const month = String(today.getMonth() + 1).padStart(2, "0");
    const day = String(today.getDate()).padStart(2, "0");
    return `${year}-${month}-${day}`;
  }
  async ensureTodayHeader(showNotice) {
    try {
      const sourceFile = this.app.vault.getAbstractFileByPath(
        this.settings.sourceFile
      );
      if (!sourceFile) {
        const todayDate2 = this.getTodayDateString();
        const initialContent = this.generateNewDayContent(todayDate2);
        await this.app.vault.create(this.settings.sourceFile, initialContent);
        if (showNotice) {
          new import_obsidian.Notice(`Created ${this.settings.sourceFile} with today's date`);
        }
        return true;
      }
      if (!(sourceFile instanceof import_obsidian.TFile)) {
        return false;
      }
      const content = await this.app.vault.read(sourceFile);
      const todayDate = this.getTodayDateString();
      const dateRegex = new RegExp(this.settings.dateHeadingRegex, "gm");
      const matches = content.matchAll(dateRegex);
      for (const match of matches) {
        if (match[1] === todayDate) {
          if (showNotice) {
            new import_obsidian.Notice(`Today's header (${todayDate}) already exists`);
          }
          return false;
        }
      }
      const newDayContent = this.generateNewDayContent(todayDate);
      const newContent = content.trimEnd() + "\n\n" + newDayContent;
      await this.app.vault.modify(sourceFile, newContent);
      if (showNotice) {
        new import_obsidian.Notice(`Added today's header: # ${todayDate}`);
      }
      return true;
    } catch (error) {
      console.error("Error adding today's header:", error);
      if (showNotice) {
        new import_obsidian.Notice(`Error adding today's header: ${error}`);
      }
      return false;
    }
  }
  generateNewDayContent(date) {
    const lines = [];
    lines.push(`# ${date}`);
    lines.push("");
    if (this.settings.defaultTags.trim()) {
      const tags = this.settings.defaultTags.split(",").map((t) => t.trim()).filter((t) => t);
      const tagPrefix = "#".repeat(this.settings.tagHeadingLevel);
      for (const tag of tags) {
        lines.push(`${tagPrefix} ${tag}`);
        lines.push("");
        lines.push("");
      }
    }
    return lines.join("\n");
  }
  // ───────────────────────────────────────────────────────────────────────────
  // Core Parsing Logic
  // ───────────────────────────────────────────────────────────────────────────
  parseSourceFile(content) {
    const lines = content.split("\n");
    const tags = /* @__PURE__ */ new Map();
    const dateRegex = new RegExp(this.settings.dateHeadingRegex);
    const tagHeadingPrefix = "#".repeat(this.settings.tagHeadingLevel);
    const tagRegex = new RegExp(`^${tagHeadingPrefix}\\s+([^#].*)\\s*$`);
    let currentDate = null;
    let currentTag = null;
    let currentContent = [];
    let currentTagLineNumber = 0;
    let inCodeFence = false;
    const flushTagSection = () => {
      if (currentDate && currentTag && currentContent.length > 0) {
        const content2 = currentContent.join("\n").trim();
        if (content2) {
          const normalizedTag = this.normalizeTagName(currentTag);
          if (!tags.has(normalizedTag)) {
            tags.set(normalizedTag, []);
          }
          tags.get(normalizedTag).push({
            date: currentDate,
            content: content2,
            lineNumber: currentTagLineNumber
          });
        }
      }
      currentContent = [];
      currentTag = null;
    };
    for (let i = 0; i < lines.length; i++) {
      const line = lines[i];
      const lineNumber = i + 1;
      if (line.trim().startsWith("```")) {
        inCodeFence = !inCodeFence;
        if (currentTag) {
          currentContent.push(line);
        }
        continue;
      }
      if (inCodeFence) {
        if (currentTag) {
          currentContent.push(line);
        }
        continue;
      }
      const dateMatch = line.match(dateRegex);
      if (dateMatch) {
        flushTagSection();
        currentDate = dateMatch[1];
        currentTag = null;
        continue;
      }
      if (currentDate) {
        const tagMatch = line.match(tagRegex);
        if (tagMatch) {
          flushTagSection();
          currentTag = tagMatch[1].trim();
          currentTagLineNumber = lineNumber;
          continue;
        }
      }
      if (currentTag) {
        currentContent.push(line);
      }
    }
    flushTagSection();
    return { tags };
  }
  normalizeTagName(tag) {
    return tag.trim().toLowerCase().replace(/\s+/g, "-");
  }
  capitalizeTagName(tag) {
    return tag.split("-").map((word) => word.charAt(0).toUpperCase() + word.slice(1)).join(" ");
  }
  // ───────────────────────────────────────────────────────────────────────────
  // Aggregate File Generation
  // ───────────────────────────────────────────────────────────────────────────
  generateTagFileContent(tag, sections, sourceFile) {
    const displayName = this.capitalizeTagName(tag);
    const lines = [];
    lines.push("---");
    lines.push("generated-by: life-tag-aggregator");
    lines.push(`source: "[[${sourceFile.replace(".md", "")}]]"`);
    lines.push(`tag: ${tag}`);
    lines.push("do-not-edit: true");
    lines.push("---");
    lines.push("");
    lines.push(`# ${displayName}`);
    lines.push("");
    if (this.settings.groupByDate) {
      const byDate = /* @__PURE__ */ new Map();
      for (const section of sections) {
        if (!byDate.has(section.date)) {
          byDate.set(section.date, []);
        }
        byDate.get(section.date).push(section);
      }
      const sortedDates = Array.from(byDate.keys()).sort().reverse();
      for (const date of sortedDates) {
        if (this.settings.includeBacklinks) {
          const displayTag = this.capitalizeTagName(tag);
          lines.push(
            `## ${date} [[${sourceFile.replace(
              ".md",
              ""
            )}#${date}#${displayTag}|\u21A9]]`
          );
        } else {
          lines.push(`## ${date}`);
        }
        lines.push("");
        const dateSections = byDate.get(date);
        for (let i = 0; i < dateSections.length; i++) {
          const section = dateSections[i];
          lines.push(section.content);
          if (i < dateSections.length - 1) {
            lines.push("");
            lines.push("---");
            lines.push("");
          }
        }
        lines.push("");
      }
    } else {
      for (const section of sections) {
        lines.push(`### ${section.date}`);
        lines.push("");
        lines.push(section.content);
        lines.push("");
      }
    }
    return lines.join("\n");
  }
  // ───────────────────────────────────────────────────────────────────────────
  // Main Rebuild Function
  // ───────────────────────────────────────────────────────────────────────────
  async rebuildAggregates(showNotice = false) {
    try {
      const sourceFile = this.app.vault.getAbstractFileByPath(
        this.settings.sourceFile
      );
      if (!(sourceFile instanceof import_obsidian.TFile)) {
        if (showNotice) {
          new import_obsidian.Notice(`Source file not found: ${this.settings.sourceFile}`);
        }
        return;
      }
      const content = await this.app.vault.read(sourceFile);
      const parsed = this.parseSourceFile(content);
      const outputPath = (0, import_obsidian.normalizePath)(this.settings.outputFolder);
      if (!await this.app.vault.adapter.exists(outputPath)) {
        await this.app.vault.createFolder(outputPath);
      }
      let updatedCount = 0;
      for (const [tag, sections] of parsed.tags) {
        const fileName = `${this.capitalizeTagName(tag).replace(
          /\s+/g,
          "-"
        )}.md`;
        const filePath = (0, import_obsidian.normalizePath)(`${outputPath}/${fileName}`);
        const generatedContent = this.generateTagFileContent(
          tag,
          sections,
          this.settings.sourceFile
        );
        const existingFile = this.app.vault.getAbstractFileByPath(filePath);
        if (existingFile instanceof import_obsidian.TFile) {
          const existingContent = await this.app.vault.read(existingFile);
          if (existingContent !== generatedContent) {
            await this.app.vault.modify(existingFile, generatedContent);
            updatedCount++;
          }
        } else {
          await this.app.vault.create(filePath, generatedContent);
          updatedCount++;
        }
      }
      this.lastUpdateTime = new Date().toLocaleTimeString();
      if (showNotice) {
        new import_obsidian.Notice(
          `Tag Aggregator: Updated ${updatedCount} file(s) from ${parsed.tags.size} tag(s)`
        );
      }
    } catch (error) {
      console.error("Life Tag Aggregator error:", error);
      if (showNotice) {
        new import_obsidian.Notice(`Tag Aggregator error: ${error}`);
      }
    }
  }
};
var LifeTagAggregatorSettingTab = class extends import_obsidian.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    containerEl.createEl("h2", { text: "Life Tag Aggregator Settings" });
    new import_obsidian.Setting(containerEl).setName("Source file").setDesc("Path to your main Life.md file (relative to vault root)").addText(
      (text) => text.setPlaceholder("Life.md").setValue(this.plugin.settings.sourceFile).onChange(async (value) => {
        this.plugin.settings.sourceFile = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian.Setting(containerEl).setName("Output folder").setDesc("Folder where aggregate files will be generated").addText(
      (text) => text.setPlaceholder("Aggregates").setValue(this.plugin.settings.outputFolder).onChange(async (value) => {
        this.plugin.settings.outputFolder = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian.Setting(containerEl).setName("Date heading pattern").setDesc(
      "Regex pattern for date headings. Must have a capture group for the date. Default: ^#\\s+(\\d{4}-\\d{2}-\\d{2})\\s*$"
    ).addText(
      (text) => text.setPlaceholder("^#\\s+(\\d{4}-\\d{2}-\\d{2})\\s*$").setValue(this.plugin.settings.dateHeadingRegex).onChange(async (value) => {
        this.plugin.settings.dateHeadingRegex = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian.Setting(containerEl).setName("Tag heading level").setDesc("Number of # symbols for tag headings (e.g., 2 for ##)").addSlider(
      (slider) => slider.setLimits(1, 6, 1).setValue(this.plugin.settings.tagHeadingLevel).setDynamicTooltip().onChange(async (value) => {
        this.plugin.settings.tagHeadingLevel = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian.Setting(containerEl).setName("Group by date").setDesc("Group entries by date in generated files").addToggle(
      (toggle) => toggle.setValue(this.plugin.settings.groupByDate).onChange(async (value) => {
        this.plugin.settings.groupByDate = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian.Setting(containerEl).setName("Include backlinks").setDesc("Add backlinks to source locations in generated files").addToggle(
      (toggle) => toggle.setValue(this.plugin.settings.includeBacklinks).onChange(async (value) => {
        this.plugin.settings.includeBacklinks = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian.Setting(containerEl).setName("Update delay (ms)").setDesc(
      "Milliseconds to wait after editing before updating aggregates (300-2000)"
    ).addSlider(
      (slider) => slider.setLimits(300, 2e3, 100).setValue(this.plugin.settings.debounceMs).setDynamicTooltip().onChange(async (value) => {
        this.plugin.settings.debounceMs = value;
        await this.plugin.saveSettings();
      })
    );
    containerEl.createEl("h3", { text: "Daily Header" });
    new import_obsidian.Setting(containerEl).setName("Auto-add today's header").setDesc(
      "Automatically add today's date header when opening the source file"
    ).addToggle(
      (toggle) => toggle.setValue(this.plugin.settings.autoAddTodayHeader).onChange(async (value) => {
        this.plugin.settings.autoAddTodayHeader = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian.Setting(containerEl).setName("Default tag sections").setDesc(
      "Comma-separated list of tags to add under each new day (e.g., journal, research)"
    ).addText(
      (text) => text.setPlaceholder("journal, research").setValue(this.plugin.settings.defaultTags).onChange(async (value) => {
        this.plugin.settings.defaultTags = value;
        await this.plugin.saveSettings();
      })
    );
    containerEl.createEl("h3", { text: "Actions" });
    new import_obsidian.Setting(containerEl).setName("Add today's header").setDesc("Manually add today's date header to the source file").addButton(
      (button) => button.setButtonText("Add Today").onClick(async () => {
        await this.plugin.ensureTodayHeader(true);
      })
    );
    new import_obsidian.Setting(containerEl).setName("Manual rebuild").setDesc("Force regenerate all aggregate files").addButton(
      (button) => button.setButtonText("Rebuild Now").onClick(async () => {
        await this.plugin.rebuildAggregates(true);
      })
    );
    if (this.plugin.lastUpdateTime) {
      containerEl.createEl("p", {
        text: `Last updated: ${this.plugin.lastUpdateTime}`,
        cls: "setting-item-description"
      });
    }
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibWFpbi50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiaW1wb3J0IHtcbiAgQXBwLFxuICBQbHVnaW4sXG4gIFBsdWdpblNldHRpbmdUYWIsXG4gIFNldHRpbmcsXG4gIFRGaWxlLFxuICBOb3RpY2UsXG4gIGRlYm91bmNlLFxuICBub3JtYWxpemVQYXRoLFxufSBmcm9tIFwib2JzaWRpYW5cIjtcblxuLy8gXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXG4vLyBUeXBlcyAmIEludGVyZmFjZXNcbi8vIFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFxuXG5pbnRlcmZhY2UgVGFnU2VjdGlvbiB7XG4gIGRhdGU6IHN0cmluZztcbiAgY29udGVudDogc3RyaW5nO1xuICBsaW5lTnVtYmVyOiBudW1iZXI7XG59XG5cbmludGVyZmFjZSBQYXJzZWREYXRhIHtcbiAgdGFnczogTWFwPHN0cmluZywgVGFnU2VjdGlvbltdPjtcbn1cblxuaW50ZXJmYWNlIExpZmVUYWdBZ2dyZWdhdG9yU2V0dGluZ3Mge1xuICBzb3VyY2VGaWxlOiBzdHJpbmc7XG4gIG91dHB1dEZvbGRlcjogc3RyaW5nO1xuICBkYXRlSGVhZGluZ1JlZ2V4OiBzdHJpbmc7XG4gIHRhZ0hlYWRpbmdMZXZlbDogbnVtYmVyO1xuICBncm91cEJ5RGF0ZTogYm9vbGVhbjtcbiAgaW5jbHVkZUJhY2tsaW5rczogYm9vbGVhbjtcbiAgZGVib3VuY2VNczogbnVtYmVyO1xuICBhdXRvQWRkVG9kYXlIZWFkZXI6IGJvb2xlYW47XG4gIGRlZmF1bHRUYWdzOiBzdHJpbmc7XG59XG5cbmNvbnN0IERFRkFVTFRfU0VUVElOR1M6IExpZmVUYWdBZ2dyZWdhdG9yU2V0dGluZ3MgPSB7XG4gIHNvdXJjZUZpbGU6IFwiTGlmZS5tZFwiLFxuICBvdXRwdXRGb2xkZXI6IFwiQWdncmVnYXRlc1wiLFxuICBkYXRlSGVhZGluZ1JlZ2V4OiBcIl4jXFxcXHMrKFxcXFxkezR9LVxcXFxkezJ9LVxcXFxkezJ9KVxcXFxzKiRcIixcbiAgdGFnSGVhZGluZ0xldmVsOiAyLFxuICBncm91cEJ5RGF0ZTogdHJ1ZSxcbiAgaW5jbHVkZUJhY2tsaW5rczogdHJ1ZSxcbiAgZGVib3VuY2VNczogNTAwLFxuICBhdXRvQWRkVG9kYXlIZWFkZXI6IHRydWUsXG4gIGRlZmF1bHRUYWdzOiBcImpvdXJuYWxcIixcbn07XG5cbi8vIFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFxuLy8gTWFpbiBQbHVnaW4gQ2xhc3Ncbi8vIFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMaWZlVGFnQWdncmVnYXRvclBsdWdpbiBleHRlbmRzIFBsdWdpbiB7XG4gIHNldHRpbmdzOiBMaWZlVGFnQWdncmVnYXRvclNldHRpbmdzO1xuICBwcml2YXRlIGRlYm91bmNlZFJlYnVpbGQ6ICgpID0+IHZvaWQ7XG4gIGxhc3RVcGRhdGVUaW1lOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcblxuICBhc3luYyBvbmxvYWQoKSB7XG4gICAgYXdhaXQgdGhpcy5sb2FkU2V0dGluZ3MoKTtcblxuICAgIC8vIENyZWF0ZSBkZWJvdW5jZWQgcmVidWlsZCBmdW5jdGlvblxuICAgIHRoaXMuZGVib3VuY2VkUmVidWlsZCA9IGRlYm91bmNlKFxuICAgICAgKCkgPT4gdGhpcy5yZWJ1aWxkQWdncmVnYXRlcygpLFxuICAgICAgdGhpcy5zZXR0aW5ncy5kZWJvdW5jZU1zLFxuICAgICAgdHJ1ZVxuICAgICk7XG5cbiAgICAvLyBSZWdpc3RlciBjb21tYW5kIGZvciBtYW51YWwgcmVidWlsZFxuICAgIHRoaXMuYWRkQ29tbWFuZCh7XG4gICAgICBpZDogXCJyZWJ1aWxkLXRhZy1hZ2dyZWdhdGVzXCIsXG4gICAgICBuYW1lOiBcIlJlYnVpbGQgVGFnIEFnZ3JlZ2F0ZXNcIixcbiAgICAgIGNhbGxiYWNrOiAoKSA9PiB0aGlzLnJlYnVpbGRBZ2dyZWdhdGVzKHRydWUpLFxuICAgIH0pO1xuXG4gICAgLy8gUmVnaXN0ZXIgY29tbWFuZCB0byBhZGQgdG9kYXkncyBkYXRlIGhlYWRlclxuICAgIHRoaXMuYWRkQ29tbWFuZCh7XG4gICAgICBpZDogXCJhZGQtdG9kYXktaGVhZGVyXCIsXG4gICAgICBuYW1lOiBcIkFkZCBUb2RheSdzIERhdGUgSGVhZGVyXCIsXG4gICAgICBjYWxsYmFjazogKCkgPT4gdGhpcy5lbnN1cmVUb2RheUhlYWRlcih0cnVlKSxcbiAgICB9KTtcblxuICAgIC8vIEFkZCBzZXR0aW5ncyB0YWJcbiAgICB0aGlzLmFkZFNldHRpbmdUYWIobmV3IExpZmVUYWdBZ2dyZWdhdG9yU2V0dGluZ1RhYih0aGlzLmFwcCwgdGhpcykpO1xuXG4gICAgLy8gUmVnaXN0ZXIgZmlsZSBtb2RpZmljYXRpb24gbGlzdGVuZXJcbiAgICB0aGlzLnJlZ2lzdGVyRXZlbnQoXG4gICAgICB0aGlzLmFwcC52YXVsdC5vbihcIm1vZGlmeVwiLCAoZmlsZSkgPT4ge1xuICAgICAgICBpZiAoZmlsZSBpbnN0YW5jZW9mIFRGaWxlICYmIGZpbGUucGF0aCA9PT0gdGhpcy5zZXR0aW5ncy5zb3VyY2VGaWxlKSB7XG4gICAgICAgICAgdGhpcy5kZWJvdW5jZWRSZWJ1aWxkKCk7XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgKTtcblxuICAgIC8vIFJlZ2lzdGVyIGZpbGUgcmVuYW1lIGxpc3RlbmVyXG4gICAgdGhpcy5yZWdpc3RlckV2ZW50KFxuICAgICAgdGhpcy5hcHAudmF1bHQub24oXCJyZW5hbWVcIiwgKGZpbGUsIG9sZFBhdGgpID0+IHtcbiAgICAgICAgaWYgKG9sZFBhdGggPT09IHRoaXMuc2V0dGluZ3Muc291cmNlRmlsZSAmJiBmaWxlIGluc3RhbmNlb2YgVEZpbGUpIHtcbiAgICAgICAgICAvLyBTb3VyY2UgZmlsZSB3YXMgcmVuYW1lZCwgdXBkYXRlIHNldHRpbmdcbiAgICAgICAgICB0aGlzLnNldHRpbmdzLnNvdXJjZUZpbGUgPSBmaWxlLnBhdGg7XG4gICAgICAgICAgdGhpcy5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICApO1xuXG4gICAgLy8gSW5pdGlhbCBidWlsZCBvbiBsb2FkIChkZWxheWVkIHRvIGVuc3VyZSB2YXVsdCBpcyByZWFkeSlcbiAgICB0aGlzLmFwcC53b3Jrc3BhY2Uub25MYXlvdXRSZWFkeSgoKSA9PiB7XG4gICAgICB0aGlzLnJlYnVpbGRBZ2dyZWdhdGVzKCk7XG4gICAgICAvLyBDaGVjayBmb3IgdG9kYXkncyBoZWFkZXIgb24gc3RhcnR1cFxuICAgICAgaWYgKHRoaXMuc2V0dGluZ3MuYXV0b0FkZFRvZGF5SGVhZGVyKSB7XG4gICAgICAgIHRoaXMuZW5zdXJlVG9kYXlIZWFkZXIoZmFsc2UpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gTGlzdGVuIGZvciBmaWxlIG9wZW4gdG8gYXV0by1hZGQgdG9kYXkncyBoZWFkZXJcbiAgICB0aGlzLnJlZ2lzdGVyRXZlbnQoXG4gICAgICB0aGlzLmFwcC53b3Jrc3BhY2Uub24oXCJmaWxlLW9wZW5cIiwgKGZpbGUpID0+IHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIHRoaXMuc2V0dGluZ3MuYXV0b0FkZFRvZGF5SGVhZGVyICYmXG4gICAgICAgICAgZmlsZSBpbnN0YW5jZW9mIFRGaWxlICYmXG4gICAgICAgICAgZmlsZS5wYXRoID09PSB0aGlzLnNldHRpbmdzLnNvdXJjZUZpbGVcbiAgICAgICAgKSB7XG4gICAgICAgICAgdGhpcy5lbnN1cmVUb2RheUhlYWRlcihmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgKTtcbiAgfVxuXG4gIG9udW5sb2FkKCkge1xuICAgIC8vIENsZWFudXAgaWYgbmVlZGVkXG4gIH1cblxuICBhc3luYyBsb2FkU2V0dGluZ3MoKSB7XG4gICAgdGhpcy5zZXR0aW5ncyA9IE9iamVjdC5hc3NpZ24oe30sIERFRkFVTFRfU0VUVElOR1MsIGF3YWl0IHRoaXMubG9hZERhdGEoKSk7XG4gIH1cblxuICBhc3luYyBzYXZlU2V0dGluZ3MoKSB7XG4gICAgYXdhaXQgdGhpcy5zYXZlRGF0YSh0aGlzLnNldHRpbmdzKTtcbiAgICAvLyBSZWNyZWF0ZSBkZWJvdW5jZWQgZnVuY3Rpb24gd2l0aCBuZXcgdGltaW5nXG4gICAgdGhpcy5kZWJvdW5jZWRSZWJ1aWxkID0gZGVib3VuY2UoXG4gICAgICAoKSA9PiB0aGlzLnJlYnVpbGRBZ2dyZWdhdGVzKCksXG4gICAgICB0aGlzLnNldHRpbmdzLmRlYm91bmNlTXMsXG4gICAgICB0cnVlXG4gICAgKTtcbiAgfVxuXG4gIC8vIFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFxuICAvLyBUb2RheSdzIERhdGUgSGVhZGVyXG4gIC8vIFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFxuXG4gIGdldFRvZGF5RGF0ZVN0cmluZygpOiBzdHJpbmcge1xuICAgIGNvbnN0IHRvZGF5ID0gbmV3IERhdGUoKTtcbiAgICBjb25zdCB5ZWFyID0gdG9kYXkuZ2V0RnVsbFllYXIoKTtcbiAgICBjb25zdCBtb250aCA9IFN0cmluZyh0b2RheS5nZXRNb250aCgpICsgMSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuICAgIGNvbnN0IGRheSA9IFN0cmluZyh0b2RheS5nZXREYXRlKCkpLnBhZFN0YXJ0KDIsIFwiMFwiKTtcbiAgICByZXR1cm4gYCR7eWVhcn0tJHttb250aH0tJHtkYXl9YDtcbiAgfVxuXG4gIGFzeW5jIGVuc3VyZVRvZGF5SGVhZGVyKHNob3dOb3RpY2U6IGJvb2xlYW4pOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3Qgc291cmNlRmlsZSA9IHRoaXMuYXBwLnZhdWx0LmdldEFic3RyYWN0RmlsZUJ5UGF0aChcbiAgICAgICAgdGhpcy5zZXR0aW5ncy5zb3VyY2VGaWxlXG4gICAgICApO1xuXG4gICAgICAvLyBJZiBzb3VyY2UgZmlsZSBkb2Vzbid0IGV4aXN0LCBjcmVhdGUgaXQgd2l0aCB0b2RheSdzIGhlYWRlclxuICAgICAgaWYgKCFzb3VyY2VGaWxlKSB7XG4gICAgICAgIGNvbnN0IHRvZGF5RGF0ZSA9IHRoaXMuZ2V0VG9kYXlEYXRlU3RyaW5nKCk7XG4gICAgICAgIGNvbnN0IGluaXRpYWxDb250ZW50ID0gdGhpcy5nZW5lcmF0ZU5ld0RheUNvbnRlbnQodG9kYXlEYXRlKTtcbiAgICAgICAgYXdhaXQgdGhpcy5hcHAudmF1bHQuY3JlYXRlKHRoaXMuc2V0dGluZ3Muc291cmNlRmlsZSwgaW5pdGlhbENvbnRlbnQpO1xuICAgICAgICBpZiAoc2hvd05vdGljZSkge1xuICAgICAgICAgIG5ldyBOb3RpY2UoYENyZWF0ZWQgJHt0aGlzLnNldHRpbmdzLnNvdXJjZUZpbGV9IHdpdGggdG9kYXkncyBkYXRlYCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG5cbiAgICAgIGlmICghKHNvdXJjZUZpbGUgaW5zdGFuY2VvZiBURmlsZSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBjb250ZW50ID0gYXdhaXQgdGhpcy5hcHAudmF1bHQucmVhZChzb3VyY2VGaWxlKTtcbiAgICAgIGNvbnN0IHRvZGF5RGF0ZSA9IHRoaXMuZ2V0VG9kYXlEYXRlU3RyaW5nKCk7XG5cbiAgICAgIC8vIENoZWNrIGlmIHRvZGF5J3MgZGF0ZSBhbHJlYWR5IGV4aXN0c1xuICAgICAgY29uc3QgZGF0ZVJlZ2V4ID0gbmV3IFJlZ0V4cCh0aGlzLnNldHRpbmdzLmRhdGVIZWFkaW5nUmVnZXgsIFwiZ21cIik7XG4gICAgICBjb25zdCBtYXRjaGVzID0gY29udGVudC5tYXRjaEFsbChkYXRlUmVnZXgpO1xuXG4gICAgICBmb3IgKGNvbnN0IG1hdGNoIG9mIG1hdGNoZXMpIHtcbiAgICAgICAgaWYgKG1hdGNoWzFdID09PSB0b2RheURhdGUpIHtcbiAgICAgICAgICAvLyBUb2RheSdzIGhlYWRlciBhbHJlYWR5IGV4aXN0c1xuICAgICAgICAgIGlmIChzaG93Tm90aWNlKSB7XG4gICAgICAgICAgICBuZXcgTm90aWNlKGBUb2RheSdzIGhlYWRlciAoJHt0b2RheURhdGV9KSBhbHJlYWR5IGV4aXN0c2ApO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gQWRkIHRvZGF5J3MgaGVhZGVyIGF0IHRoZSBlbmRcbiAgICAgIGNvbnN0IG5ld0RheUNvbnRlbnQgPSB0aGlzLmdlbmVyYXRlTmV3RGF5Q29udGVudCh0b2RheURhdGUpO1xuICAgICAgY29uc3QgbmV3Q29udGVudCA9IGNvbnRlbnQudHJpbUVuZCgpICsgXCJcXG5cXG5cIiArIG5ld0RheUNvbnRlbnQ7XG4gICAgICBhd2FpdCB0aGlzLmFwcC52YXVsdC5tb2RpZnkoc291cmNlRmlsZSwgbmV3Q29udGVudCk7XG5cbiAgICAgIGlmIChzaG93Tm90aWNlKSB7XG4gICAgICAgIG5ldyBOb3RpY2UoYEFkZGVkIHRvZGF5J3MgaGVhZGVyOiAjICR7dG9kYXlEYXRlfWApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBhZGRpbmcgdG9kYXkncyBoZWFkZXI6XCIsIGVycm9yKTtcbiAgICAgIGlmIChzaG93Tm90aWNlKSB7XG4gICAgICAgIG5ldyBOb3RpY2UoYEVycm9yIGFkZGluZyB0b2RheSdzIGhlYWRlcjogJHtlcnJvcn1gKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBnZW5lcmF0ZU5ld0RheUNvbnRlbnQoZGF0ZTogc3RyaW5nKTogc3RyaW5nIHtcbiAgICBjb25zdCBsaW5lczogc3RyaW5nW10gPSBbXTtcbiAgICBsaW5lcy5wdXNoKGAjICR7ZGF0ZX1gKTtcbiAgICBsaW5lcy5wdXNoKFwiXCIpO1xuXG4gICAgLy8gQWRkIGRlZmF1bHQgdGFnIHNlY3Rpb25zIGlmIGNvbmZpZ3VyZWRcbiAgICBpZiAodGhpcy5zZXR0aW5ncy5kZWZhdWx0VGFncy50cmltKCkpIHtcbiAgICAgIGNvbnN0IHRhZ3MgPSB0aGlzLnNldHRpbmdzLmRlZmF1bHRUYWdzXG4gICAgICAgIC5zcGxpdChcIixcIilcbiAgICAgICAgLm1hcCgodCkgPT4gdC50cmltKCkpXG4gICAgICAgIC5maWx0ZXIoKHQpID0+IHQpO1xuXG4gICAgICBjb25zdCB0YWdQcmVmaXggPSBcIiNcIi5yZXBlYXQodGhpcy5zZXR0aW5ncy50YWdIZWFkaW5nTGV2ZWwpO1xuICAgICAgZm9yIChjb25zdCB0YWcgb2YgdGFncykge1xuICAgICAgICBsaW5lcy5wdXNoKGAke3RhZ1ByZWZpeH0gJHt0YWd9YCk7XG4gICAgICAgIGxpbmVzLnB1c2goXCJcIik7XG4gICAgICAgIGxpbmVzLnB1c2goXCJcIik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGxpbmVzLmpvaW4oXCJcXG5cIik7XG4gIH1cblxuICAvLyBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcbiAgLy8gQ29yZSBQYXJzaW5nIExvZ2ljXG4gIC8vIFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFxuXG4gIHBhcnNlU291cmNlRmlsZShjb250ZW50OiBzdHJpbmcpOiBQYXJzZWREYXRhIHtcbiAgICBjb25zdCBsaW5lcyA9IGNvbnRlbnQuc3BsaXQoXCJcXG5cIik7XG4gICAgY29uc3QgdGFncyA9IG5ldyBNYXA8c3RyaW5nLCBUYWdTZWN0aW9uW10+KCk7XG5cbiAgICBjb25zdCBkYXRlUmVnZXggPSBuZXcgUmVnRXhwKHRoaXMuc2V0dGluZ3MuZGF0ZUhlYWRpbmdSZWdleCk7XG4gICAgY29uc3QgdGFnSGVhZGluZ1ByZWZpeCA9IFwiI1wiLnJlcGVhdCh0aGlzLnNldHRpbmdzLnRhZ0hlYWRpbmdMZXZlbCk7XG4gICAgY29uc3QgdGFnUmVnZXggPSBuZXcgUmVnRXhwKGBeJHt0YWdIZWFkaW5nUHJlZml4fVxcXFxzKyhbXiNdLiopXFxcXHMqJGApO1xuXG4gICAgbGV0IGN1cnJlbnREYXRlOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcbiAgICBsZXQgY3VycmVudFRhZzogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG4gICAgbGV0IGN1cnJlbnRDb250ZW50OiBzdHJpbmdbXSA9IFtdO1xuICAgIGxldCBjdXJyZW50VGFnTGluZU51bWJlciA9IDA7XG4gICAgbGV0IGluQ29kZUZlbmNlID0gZmFsc2U7XG5cbiAgICBjb25zdCBmbHVzaFRhZ1NlY3Rpb24gPSAoKSA9PiB7XG4gICAgICBpZiAoY3VycmVudERhdGUgJiYgY3VycmVudFRhZyAmJiBjdXJyZW50Q29udGVudC5sZW5ndGggPiAwKSB7XG4gICAgICAgIGNvbnN0IGNvbnRlbnQgPSBjdXJyZW50Q29udGVudC5qb2luKFwiXFxuXCIpLnRyaW0oKTtcbiAgICAgICAgaWYgKGNvbnRlbnQpIHtcbiAgICAgICAgICBjb25zdCBub3JtYWxpemVkVGFnID0gdGhpcy5ub3JtYWxpemVUYWdOYW1lKGN1cnJlbnRUYWcpO1xuICAgICAgICAgIGlmICghdGFncy5oYXMobm9ybWFsaXplZFRhZykpIHtcbiAgICAgICAgICAgIHRhZ3Muc2V0KG5vcm1hbGl6ZWRUYWcsIFtdKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGFncy5nZXQobm9ybWFsaXplZFRhZykhLnB1c2goe1xuICAgICAgICAgICAgZGF0ZTogY3VycmVudERhdGUsXG4gICAgICAgICAgICBjb250ZW50OiBjb250ZW50LFxuICAgICAgICAgICAgbGluZU51bWJlcjogY3VycmVudFRhZ0xpbmVOdW1iZXIsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGN1cnJlbnRDb250ZW50ID0gW107XG4gICAgICBjdXJyZW50VGFnID0gbnVsbDtcbiAgICB9O1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaW5lcy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgbGluZSA9IGxpbmVzW2ldO1xuICAgICAgY29uc3QgbGluZU51bWJlciA9IGkgKyAxO1xuXG4gICAgICAvLyBUcmFjayBjb2RlIGZlbmNlIHN0YXRlXG4gICAgICBpZiAobGluZS50cmltKCkuc3RhcnRzV2l0aChcImBgYFwiKSkge1xuICAgICAgICBpbkNvZGVGZW5jZSA9ICFpbkNvZGVGZW5jZTtcbiAgICAgICAgaWYgKGN1cnJlbnRUYWcpIHtcbiAgICAgICAgICBjdXJyZW50Q29udGVudC5wdXNoKGxpbmUpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICAvLyBTa2lwIGhlYWRpbmcgZGV0ZWN0aW9uIGluc2lkZSBjb2RlIGZlbmNlc1xuICAgICAgaWYgKGluQ29kZUZlbmNlKSB7XG4gICAgICAgIGlmIChjdXJyZW50VGFnKSB7XG4gICAgICAgICAgY3VycmVudENvbnRlbnQucHVzaChsaW5lKTtcbiAgICAgICAgfVxuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgLy8gQ2hlY2sgZm9yIGRhdGUgaGVhZGluZ1xuICAgICAgY29uc3QgZGF0ZU1hdGNoID0gbGluZS5tYXRjaChkYXRlUmVnZXgpO1xuICAgICAgaWYgKGRhdGVNYXRjaCkge1xuICAgICAgICBmbHVzaFRhZ1NlY3Rpb24oKTtcbiAgICAgICAgY3VycmVudERhdGUgPSBkYXRlTWF0Y2hbMV07XG4gICAgICAgIGN1cnJlbnRUYWcgPSBudWxsO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgLy8gQ2hlY2sgZm9yIHRhZyBoZWFkaW5nIChvbmx5IGlmIHdlJ3JlIGluc2lkZSBhIGRhdGUgYmxvY2spXG4gICAgICBpZiAoY3VycmVudERhdGUpIHtcbiAgICAgICAgY29uc3QgdGFnTWF0Y2ggPSBsaW5lLm1hdGNoKHRhZ1JlZ2V4KTtcbiAgICAgICAgaWYgKHRhZ01hdGNoKSB7XG4gICAgICAgICAgZmx1c2hUYWdTZWN0aW9uKCk7XG4gICAgICAgICAgY3VycmVudFRhZyA9IHRhZ01hdGNoWzFdLnRyaW0oKTtcbiAgICAgICAgICBjdXJyZW50VGFnTGluZU51bWJlciA9IGxpbmVOdW1iZXI7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gQWNjdW11bGF0ZSBjb250ZW50IGZvciBjdXJyZW50IHRhZyBzZWN0aW9uXG4gICAgICBpZiAoY3VycmVudFRhZykge1xuICAgICAgICBjdXJyZW50Q29udGVudC5wdXNoKGxpbmUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEZsdXNoIGFueSByZW1haW5pbmcgY29udGVudFxuICAgIGZsdXNoVGFnU2VjdGlvbigpO1xuXG4gICAgcmV0dXJuIHsgdGFncyB9O1xuICB9XG5cbiAgbm9ybWFsaXplVGFnTmFtZSh0YWc6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgLy8gVHJpbSwgbG93ZXJjYXNlLCByZXBsYWNlIHNwYWNlcyB3aXRoIGRhc2hlc1xuICAgIHJldHVybiB0YWcudHJpbSgpLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvXFxzKy9nLCBcIi1cIik7XG4gIH1cblxuICBjYXBpdGFsaXplVGFnTmFtZSh0YWc6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgLy8gQ2FwaXRhbGl6ZSBmaXJzdCBsZXR0ZXIgb2YgZWFjaCB3b3JkIGZvciBkaXNwbGF5XG4gICAgcmV0dXJuIHRhZ1xuICAgICAgLnNwbGl0KFwiLVwiKVxuICAgICAgLm1hcCgod29yZCkgPT4gd29yZC5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHdvcmQuc2xpY2UoMSkpXG4gICAgICAuam9pbihcIiBcIik7XG4gIH1cblxuICAvLyBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcbiAgLy8gQWdncmVnYXRlIEZpbGUgR2VuZXJhdGlvblxuICAvLyBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcblxuICBnZW5lcmF0ZVRhZ0ZpbGVDb250ZW50KFxuICAgIHRhZzogc3RyaW5nLFxuICAgIHNlY3Rpb25zOiBUYWdTZWN0aW9uW10sXG4gICAgc291cmNlRmlsZTogc3RyaW5nXG4gICk6IHN0cmluZyB7XG4gICAgY29uc3QgZGlzcGxheU5hbWUgPSB0aGlzLmNhcGl0YWxpemVUYWdOYW1lKHRhZyk7XG4gICAgY29uc3QgbGluZXM6IHN0cmluZ1tdID0gW107XG5cbiAgICAvLyBGcm9udG1hdHRlclxuICAgIGxpbmVzLnB1c2goXCItLS1cIik7XG4gICAgbGluZXMucHVzaChcImdlbmVyYXRlZC1ieTogbGlmZS10YWctYWdncmVnYXRvclwiKTtcbiAgICBsaW5lcy5wdXNoKGBzb3VyY2U6IFwiW1ske3NvdXJjZUZpbGUucmVwbGFjZShcIi5tZFwiLCBcIlwiKX1dXVwiYCk7XG4gICAgbGluZXMucHVzaChgdGFnOiAke3RhZ31gKTtcbiAgICBsaW5lcy5wdXNoKFwiZG8tbm90LWVkaXQ6IHRydWVcIik7XG4gICAgbGluZXMucHVzaChcIi0tLVwiKTtcbiAgICBsaW5lcy5wdXNoKFwiXCIpO1xuXG4gICAgLy8gVGl0bGVcbiAgICBsaW5lcy5wdXNoKGAjICR7ZGlzcGxheU5hbWV9YCk7XG4gICAgbGluZXMucHVzaChcIlwiKTtcblxuICAgIGlmICh0aGlzLnNldHRpbmdzLmdyb3VwQnlEYXRlKSB7XG4gICAgICAvLyBHcm91cCBzZWN0aW9ucyBieSBkYXRlXG4gICAgICBjb25zdCBieURhdGUgPSBuZXcgTWFwPHN0cmluZywgVGFnU2VjdGlvbltdPigpO1xuICAgICAgZm9yIChjb25zdCBzZWN0aW9uIG9mIHNlY3Rpb25zKSB7XG4gICAgICAgIGlmICghYnlEYXRlLmhhcyhzZWN0aW9uLmRhdGUpKSB7XG4gICAgICAgICAgYnlEYXRlLnNldChzZWN0aW9uLmRhdGUsIFtdKTtcbiAgICAgICAgfVxuICAgICAgICBieURhdGUuZ2V0KHNlY3Rpb24uZGF0ZSkhLnB1c2goc2VjdGlvbik7XG4gICAgICB9XG5cbiAgICAgIC8vIFNvcnQgZGF0ZXMgaW4gcmV2ZXJzZSBjaHJvbm9sb2dpY2FsIG9yZGVyXG4gICAgICBjb25zdCBzb3J0ZWREYXRlcyA9IEFycmF5LmZyb20oYnlEYXRlLmtleXMoKSkuc29ydCgpLnJldmVyc2UoKTtcblxuICAgICAgZm9yIChjb25zdCBkYXRlIG9mIHNvcnRlZERhdGVzKSB7XG4gICAgICAgIC8vIEFkZCBkYXRlIGhlYWRpbmcgd2l0aCBvcHRpb25hbCBpbmxpbmUgc291cmNlIGxpbmtcbiAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MuaW5jbHVkZUJhY2tsaW5rcykge1xuICAgICAgICAgIGNvbnN0IGRpc3BsYXlUYWcgPSB0aGlzLmNhcGl0YWxpemVUYWdOYW1lKHRhZyk7XG4gICAgICAgICAgbGluZXMucHVzaChcbiAgICAgICAgICAgIGAjIyAke2RhdGV9IFtbJHtzb3VyY2VGaWxlLnJlcGxhY2UoXG4gICAgICAgICAgICAgIFwiLm1kXCIsXG4gICAgICAgICAgICAgIFwiXCJcbiAgICAgICAgICAgICl9IyR7ZGF0ZX0jJHtkaXNwbGF5VGFnfXxcdTIxQTldXWBcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGxpbmVzLnB1c2goYCMjICR7ZGF0ZX1gKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxpbmVzLnB1c2goXCJcIik7XG5cbiAgICAgICAgY29uc3QgZGF0ZVNlY3Rpb25zID0gYnlEYXRlLmdldChkYXRlKSE7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGF0ZVNlY3Rpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgY29uc3Qgc2VjdGlvbiA9IGRhdGVTZWN0aW9uc1tpXTtcblxuICAgICAgICAgIGxpbmVzLnB1c2goc2VjdGlvbi5jb250ZW50KTtcblxuICAgICAgICAgIC8vIEFkZCBzZXBhcmF0b3IgYmV0d2VlbiBtdWx0aXBsZSBzZWN0aW9ucyBvbiBzYW1lIGRhdGVcbiAgICAgICAgICBpZiAoaSA8IGRhdGVTZWN0aW9ucy5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICBsaW5lcy5wdXNoKFwiXCIpO1xuICAgICAgICAgICAgbGluZXMucHVzaChcIi0tLVwiKTtcbiAgICAgICAgICAgIGxpbmVzLnB1c2goXCJcIik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbGluZXMucHVzaChcIlwiKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gRmxhdCBsaXN0IHdpdGggZGF0ZSBwcmVmaXhcbiAgICAgIGZvciAoY29uc3Qgc2VjdGlvbiBvZiBzZWN0aW9ucykge1xuICAgICAgICBsaW5lcy5wdXNoKGAjIyMgJHtzZWN0aW9uLmRhdGV9YCk7XG4gICAgICAgIGxpbmVzLnB1c2goXCJcIik7XG4gICAgICAgIGxpbmVzLnB1c2goc2VjdGlvbi5jb250ZW50KTtcbiAgICAgICAgbGluZXMucHVzaChcIlwiKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbGluZXMuam9pbihcIlxcblwiKTtcbiAgfVxuXG4gIC8vIFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFxuICAvLyBNYWluIFJlYnVpbGQgRnVuY3Rpb25cbiAgLy8gXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXG5cbiAgYXN5bmMgcmVidWlsZEFnZ3JlZ2F0ZXMoc2hvd05vdGljZSA9IGZhbHNlKSB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIEdldCBzb3VyY2UgZmlsZVxuICAgICAgY29uc3Qgc291cmNlRmlsZSA9IHRoaXMuYXBwLnZhdWx0LmdldEFic3RyYWN0RmlsZUJ5UGF0aChcbiAgICAgICAgdGhpcy5zZXR0aW5ncy5zb3VyY2VGaWxlXG4gICAgICApO1xuXG4gICAgICBpZiAoIShzb3VyY2VGaWxlIGluc3RhbmNlb2YgVEZpbGUpKSB7XG4gICAgICAgIGlmIChzaG93Tm90aWNlKSB7XG4gICAgICAgICAgbmV3IE5vdGljZShgU291cmNlIGZpbGUgbm90IGZvdW5kOiAke3RoaXMuc2V0dGluZ3Muc291cmNlRmlsZX1gKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIFJlYWQgc291cmNlIGNvbnRlbnRcbiAgICAgIGNvbnN0IGNvbnRlbnQgPSBhd2FpdCB0aGlzLmFwcC52YXVsdC5yZWFkKHNvdXJjZUZpbGUpO1xuXG4gICAgICAvLyBQYXJzZSB0aGUgY29udGVudFxuICAgICAgY29uc3QgcGFyc2VkID0gdGhpcy5wYXJzZVNvdXJjZUZpbGUoY29udGVudCk7XG5cbiAgICAgIC8vIEVuc3VyZSBvdXRwdXQgZm9sZGVyIGV4aXN0c1xuICAgICAgY29uc3Qgb3V0cHV0UGF0aCA9IG5vcm1hbGl6ZVBhdGgodGhpcy5zZXR0aW5ncy5vdXRwdXRGb2xkZXIpO1xuICAgICAgaWYgKCEoYXdhaXQgdGhpcy5hcHAudmF1bHQuYWRhcHRlci5leGlzdHMob3V0cHV0UGF0aCkpKSB7XG4gICAgICAgIGF3YWl0IHRoaXMuYXBwLnZhdWx0LmNyZWF0ZUZvbGRlcihvdXRwdXRQYXRoKTtcbiAgICAgIH1cblxuICAgICAgLy8gR2VuZXJhdGUgZmlsZXMgZm9yIGVhY2ggdGFnXG4gICAgICBsZXQgdXBkYXRlZENvdW50ID0gMDtcbiAgICAgIGZvciAoY29uc3QgW3RhZywgc2VjdGlvbnNdIG9mIHBhcnNlZC50YWdzKSB7XG4gICAgICAgIGNvbnN0IGZpbGVOYW1lID0gYCR7dGhpcy5jYXBpdGFsaXplVGFnTmFtZSh0YWcpLnJlcGxhY2UoXG4gICAgICAgICAgL1xccysvZyxcbiAgICAgICAgICBcIi1cIlxuICAgICAgICApfS5tZGA7XG4gICAgICAgIGNvbnN0IGZpbGVQYXRoID0gbm9ybWFsaXplUGF0aChgJHtvdXRwdXRQYXRofS8ke2ZpbGVOYW1lfWApO1xuXG4gICAgICAgIGNvbnN0IGdlbmVyYXRlZENvbnRlbnQgPSB0aGlzLmdlbmVyYXRlVGFnRmlsZUNvbnRlbnQoXG4gICAgICAgICAgdGFnLFxuICAgICAgICAgIHNlY3Rpb25zLFxuICAgICAgICAgIHRoaXMuc2V0dGluZ3Muc291cmNlRmlsZVxuICAgICAgICApO1xuXG4gICAgICAgIC8vIENoZWNrIGlmIGZpbGUgZXhpc3RzXG4gICAgICAgIGNvbnN0IGV4aXN0aW5nRmlsZSA9IHRoaXMuYXBwLnZhdWx0LmdldEFic3RyYWN0RmlsZUJ5UGF0aChmaWxlUGF0aCk7XG5cbiAgICAgICAgaWYgKGV4aXN0aW5nRmlsZSBpbnN0YW5jZW9mIFRGaWxlKSB7XG4gICAgICAgICAgLy8gVXBkYXRlIGV4aXN0aW5nIGZpbGVcbiAgICAgICAgICBjb25zdCBleGlzdGluZ0NvbnRlbnQgPSBhd2FpdCB0aGlzLmFwcC52YXVsdC5yZWFkKGV4aXN0aW5nRmlsZSk7XG4gICAgICAgICAgaWYgKGV4aXN0aW5nQ29udGVudCAhPT0gZ2VuZXJhdGVkQ29udGVudCkge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5hcHAudmF1bHQubW9kaWZ5KGV4aXN0aW5nRmlsZSwgZ2VuZXJhdGVkQ29udGVudCk7XG4gICAgICAgICAgICB1cGRhdGVkQ291bnQrKztcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gQ3JlYXRlIG5ldyBmaWxlXG4gICAgICAgICAgYXdhaXQgdGhpcy5hcHAudmF1bHQuY3JlYXRlKGZpbGVQYXRoLCBnZW5lcmF0ZWRDb250ZW50KTtcbiAgICAgICAgICB1cGRhdGVkQ291bnQrKztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBVcGRhdGUgdGltZXN0YW1wXG4gICAgICB0aGlzLmxhc3RVcGRhdGVUaW1lID0gbmV3IERhdGUoKS50b0xvY2FsZVRpbWVTdHJpbmcoKTtcblxuICAgICAgaWYgKHNob3dOb3RpY2UpIHtcbiAgICAgICAgbmV3IE5vdGljZShcbiAgICAgICAgICBgVGFnIEFnZ3JlZ2F0b3I6IFVwZGF0ZWQgJHt1cGRhdGVkQ291bnR9IGZpbGUocykgZnJvbSAke3BhcnNlZC50YWdzLnNpemV9IHRhZyhzKWBcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihcIkxpZmUgVGFnIEFnZ3JlZ2F0b3IgZXJyb3I6XCIsIGVycm9yKTtcbiAgICAgIGlmIChzaG93Tm90aWNlKSB7XG4gICAgICAgIG5ldyBOb3RpY2UoYFRhZyBBZ2dyZWdhdG9yIGVycm9yOiAke2Vycm9yfWApO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG4vLyBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcbi8vIFNldHRpbmdzIFRhYlxuLy8gXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXG5cbmNsYXNzIExpZmVUYWdBZ2dyZWdhdG9yU2V0dGluZ1RhYiBleHRlbmRzIFBsdWdpblNldHRpbmdUYWIge1xuICBwbHVnaW46IExpZmVUYWdBZ2dyZWdhdG9yUGx1Z2luO1xuXG4gIGNvbnN0cnVjdG9yKGFwcDogQXBwLCBwbHVnaW46IExpZmVUYWdBZ2dyZWdhdG9yUGx1Z2luKSB7XG4gICAgc3VwZXIoYXBwLCBwbHVnaW4pO1xuICAgIHRoaXMucGx1Z2luID0gcGx1Z2luO1xuICB9XG5cbiAgZGlzcGxheSgpOiB2b2lkIHtcbiAgICBjb25zdCB7IGNvbnRhaW5lckVsIH0gPSB0aGlzO1xuXG4gICAgY29udGFpbmVyRWwuZW1wdHkoKTtcblxuICAgIGNvbnRhaW5lckVsLmNyZWF0ZUVsKFwiaDJcIiwgeyB0ZXh0OiBcIkxpZmUgVGFnIEFnZ3JlZ2F0b3IgU2V0dGluZ3NcIiB9KTtcblxuICAgIC8vIFNvdXJjZSBmaWxlXG4gICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4gICAgICAuc2V0TmFtZShcIlNvdXJjZSBmaWxlXCIpXG4gICAgICAuc2V0RGVzYyhcIlBhdGggdG8geW91ciBtYWluIExpZmUubWQgZmlsZSAocmVsYXRpdmUgdG8gdmF1bHQgcm9vdClcIilcbiAgICAgIC5hZGRUZXh0KCh0ZXh0KSA9PlxuICAgICAgICB0ZXh0XG4gICAgICAgICAgLnNldFBsYWNlaG9sZGVyKFwiTGlmZS5tZFwiKVxuICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5zb3VyY2VGaWxlKVxuICAgICAgICAgIC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcbiAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLnNvdXJjZUZpbGUgPSB2YWx1ZTtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICAgIH0pXG4gICAgICApO1xuXG4gICAgLy8gT3V0cHV0IGZvbGRlclxuICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuICAgICAgLnNldE5hbWUoXCJPdXRwdXQgZm9sZGVyXCIpXG4gICAgICAuc2V0RGVzYyhcIkZvbGRlciB3aGVyZSBhZ2dyZWdhdGUgZmlsZXMgd2lsbCBiZSBnZW5lcmF0ZWRcIilcbiAgICAgIC5hZGRUZXh0KCh0ZXh0KSA9PlxuICAgICAgICB0ZXh0XG4gICAgICAgICAgLnNldFBsYWNlaG9sZGVyKFwiQWdncmVnYXRlc1wiKVxuICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5vdXRwdXRGb2xkZXIpXG4gICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3Mub3V0cHV0Rm9sZGVyID0gdmFsdWU7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgICB9KVxuICAgICAgKTtcblxuICAgIC8vIERhdGUgaGVhZGluZyByZWdleFxuICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuICAgICAgLnNldE5hbWUoXCJEYXRlIGhlYWRpbmcgcGF0dGVyblwiKVxuICAgICAgLnNldERlc2MoXG4gICAgICAgIFwiUmVnZXggcGF0dGVybiBmb3IgZGF0ZSBoZWFkaW5ncy4gTXVzdCBoYXZlIGEgY2FwdHVyZSBncm91cCBmb3IgdGhlIGRhdGUuIERlZmF1bHQ6IF4jXFxcXHMrKFxcXFxkezR9LVxcXFxkezJ9LVxcXFxkezJ9KVxcXFxzKiRcIlxuICAgICAgKVxuICAgICAgLmFkZFRleHQoKHRleHQpID0+XG4gICAgICAgIHRleHRcbiAgICAgICAgICAuc2V0UGxhY2Vob2xkZXIoXCJeI1xcXFxzKyhcXFxcZHs0fS1cXFxcZHsyfS1cXFxcZHsyfSlcXFxccyokXCIpXG4gICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmRhdGVIZWFkaW5nUmVnZXgpXG4gICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuZGF0ZUhlYWRpbmdSZWdleCA9IHZhbHVlO1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgfSlcbiAgICAgICk7XG5cbiAgICAvLyBUYWcgaGVhZGluZyBsZXZlbFxuICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuICAgICAgLnNldE5hbWUoXCJUYWcgaGVhZGluZyBsZXZlbFwiKVxuICAgICAgLnNldERlc2MoXCJOdW1iZXIgb2YgIyBzeW1ib2xzIGZvciB0YWcgaGVhZGluZ3MgKGUuZy4sIDIgZm9yICMjKVwiKVxuICAgICAgLmFkZFNsaWRlcigoc2xpZGVyKSA9PlxuICAgICAgICBzbGlkZXJcbiAgICAgICAgICAuc2V0TGltaXRzKDEsIDYsIDEpXG4gICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnRhZ0hlYWRpbmdMZXZlbClcbiAgICAgICAgICAuc2V0RHluYW1pY1Rvb2x0aXAoKVxuICAgICAgICAgIC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcbiAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLnRhZ0hlYWRpbmdMZXZlbCA9IHZhbHVlO1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgfSlcbiAgICAgICk7XG5cbiAgICAvLyBHcm91cCBieSBkYXRlIHRvZ2dsZVxuICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuICAgICAgLnNldE5hbWUoXCJHcm91cCBieSBkYXRlXCIpXG4gICAgICAuc2V0RGVzYyhcIkdyb3VwIGVudHJpZXMgYnkgZGF0ZSBpbiBnZW5lcmF0ZWQgZmlsZXNcIilcbiAgICAgIC5hZGRUb2dnbGUoKHRvZ2dsZSkgPT5cbiAgICAgICAgdG9nZ2xlXG4gICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmdyb3VwQnlEYXRlKVxuICAgICAgICAgIC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcbiAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLmdyb3VwQnlEYXRlID0gdmFsdWU7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgICB9KVxuICAgICAgKTtcblxuICAgIC8vIEluY2x1ZGUgYmFja2xpbmtzIHRvZ2dsZVxuICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuICAgICAgLnNldE5hbWUoXCJJbmNsdWRlIGJhY2tsaW5rc1wiKVxuICAgICAgLnNldERlc2MoXCJBZGQgYmFja2xpbmtzIHRvIHNvdXJjZSBsb2NhdGlvbnMgaW4gZ2VuZXJhdGVkIGZpbGVzXCIpXG4gICAgICAuYWRkVG9nZ2xlKCh0b2dnbGUpID0+XG4gICAgICAgIHRvZ2dsZVxuICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5pbmNsdWRlQmFja2xpbmtzKVxuICAgICAgICAgIC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcbiAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLmluY2x1ZGVCYWNrbGlua3MgPSB2YWx1ZTtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICAgIH0pXG4gICAgICApO1xuXG4gICAgLy8gRGVib3VuY2UgdGltaW5nXG4gICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4gICAgICAuc2V0TmFtZShcIlVwZGF0ZSBkZWxheSAobXMpXCIpXG4gICAgICAuc2V0RGVzYyhcbiAgICAgICAgXCJNaWxsaXNlY29uZHMgdG8gd2FpdCBhZnRlciBlZGl0aW5nIGJlZm9yZSB1cGRhdGluZyBhZ2dyZWdhdGVzICgzMDAtMjAwMClcIlxuICAgICAgKVxuICAgICAgLmFkZFNsaWRlcigoc2xpZGVyKSA9PlxuICAgICAgICBzbGlkZXJcbiAgICAgICAgICAuc2V0TGltaXRzKDMwMCwgMjAwMCwgMTAwKVxuICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5kZWJvdW5jZU1zKVxuICAgICAgICAgIC5zZXREeW5hbWljVG9vbHRpcCgpXG4gICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuZGVib3VuY2VNcyA9IHZhbHVlO1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgfSlcbiAgICAgICk7XG5cbiAgICAvLyBBdXRvLWFkZCB0b2RheSdzIGhlYWRlclxuICAgIGNvbnRhaW5lckVsLmNyZWF0ZUVsKFwiaDNcIiwgeyB0ZXh0OiBcIkRhaWx5IEhlYWRlclwiIH0pO1xuXG4gICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4gICAgICAuc2V0TmFtZShcIkF1dG8tYWRkIHRvZGF5J3MgaGVhZGVyXCIpXG4gICAgICAuc2V0RGVzYyhcbiAgICAgICAgXCJBdXRvbWF0aWNhbGx5IGFkZCB0b2RheSdzIGRhdGUgaGVhZGVyIHdoZW4gb3BlbmluZyB0aGUgc291cmNlIGZpbGVcIlxuICAgICAgKVxuICAgICAgLmFkZFRvZ2dsZSgodG9nZ2xlKSA9PlxuICAgICAgICB0b2dnbGVcbiAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuYXV0b0FkZFRvZGF5SGVhZGVyKVxuICAgICAgICAgIC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcbiAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLmF1dG9BZGRUb2RheUhlYWRlciA9IHZhbHVlO1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgfSlcbiAgICAgICk7XG5cbiAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcbiAgICAgIC5zZXROYW1lKFwiRGVmYXVsdCB0YWcgc2VjdGlvbnNcIilcbiAgICAgIC5zZXREZXNjKFxuICAgICAgICBcIkNvbW1hLXNlcGFyYXRlZCBsaXN0IG9mIHRhZ3MgdG8gYWRkIHVuZGVyIGVhY2ggbmV3IGRheSAoZS5nLiwgam91cm5hbCwgcmVzZWFyY2gpXCJcbiAgICAgIClcbiAgICAgIC5hZGRUZXh0KCh0ZXh0KSA9PlxuICAgICAgICB0ZXh0XG4gICAgICAgICAgLnNldFBsYWNlaG9sZGVyKFwiam91cm5hbCwgcmVzZWFyY2hcIilcbiAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuZGVmYXVsdFRhZ3MpXG4gICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuZGVmYXVsdFRhZ3MgPSB2YWx1ZTtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICAgIH0pXG4gICAgICApO1xuXG4gICAgLy8gTWFudWFsIGFjdGlvbnNcbiAgICBjb250YWluZXJFbC5jcmVhdGVFbChcImgzXCIsIHsgdGV4dDogXCJBY3Rpb25zXCIgfSk7XG5cbiAgICAvLyBBZGQgdG9kYXkncyBoZWFkZXIgYnV0dG9uXG4gICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4gICAgICAuc2V0TmFtZShcIkFkZCB0b2RheSdzIGhlYWRlclwiKVxuICAgICAgLnNldERlc2MoXCJNYW51YWxseSBhZGQgdG9kYXkncyBkYXRlIGhlYWRlciB0byB0aGUgc291cmNlIGZpbGVcIilcbiAgICAgIC5hZGRCdXR0b24oKGJ1dHRvbikgPT5cbiAgICAgICAgYnV0dG9uLnNldEJ1dHRvblRleHQoXCJBZGQgVG9kYXlcIikub25DbGljayhhc3luYyAoKSA9PiB7XG4gICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uZW5zdXJlVG9kYXlIZWFkZXIodHJ1ZSk7XG4gICAgICAgIH0pXG4gICAgICApO1xuXG4gICAgLy8gTWFudWFsIHJlYnVpbGQgYnV0dG9uXG4gICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4gICAgICAuc2V0TmFtZShcIk1hbnVhbCByZWJ1aWxkXCIpXG4gICAgICAuc2V0RGVzYyhcIkZvcmNlIHJlZ2VuZXJhdGUgYWxsIGFnZ3JlZ2F0ZSBmaWxlc1wiKVxuICAgICAgLmFkZEJ1dHRvbigoYnV0dG9uKSA9PlxuICAgICAgICBidXR0b24uc2V0QnV0dG9uVGV4dChcIlJlYnVpbGQgTm93XCIpLm9uQ2xpY2soYXN5bmMgKCkgPT4ge1xuICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnJlYnVpbGRBZ2dyZWdhdGVzKHRydWUpO1xuICAgICAgICB9KVxuICAgICAgKTtcblxuICAgIC8vIFN0YXR1cyBkaXNwbGF5XG4gICAgaWYgKHRoaXMucGx1Z2luLmxhc3RVcGRhdGVUaW1lKSB7XG4gICAgICBjb250YWluZXJFbC5jcmVhdGVFbChcInBcIiwge1xuICAgICAgICB0ZXh0OiBgTGFzdCB1cGRhdGVkOiAke3RoaXMucGx1Z2luLmxhc3RVcGRhdGVUaW1lfWAsXG4gICAgICAgIGNsczogXCJzZXR0aW5nLWl0ZW0tZGVzY3JpcHRpb25cIixcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxufVxuIl0sCiAgIm1hcHBpbmdzIjogIjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLHNCQVNPO0FBNEJQLElBQU0sbUJBQThDO0FBQUEsRUFDbEQsWUFBWTtBQUFBLEVBQ1osY0FBYztBQUFBLEVBQ2Qsa0JBQWtCO0FBQUEsRUFDbEIsaUJBQWlCO0FBQUEsRUFDakIsYUFBYTtBQUFBLEVBQ2Isa0JBQWtCO0FBQUEsRUFDbEIsWUFBWTtBQUFBLEVBQ1osb0JBQW9CO0FBQUEsRUFDcEIsYUFBYTtBQUNmO0FBTUEsSUFBcUIsMEJBQXJCLGNBQXFELHVCQUFPO0FBQUEsRUFBNUQ7QUFBQTtBQUdFLDBCQUFnQztBQUFBO0FBQUEsRUFFaEMsTUFBTSxTQUFTO0FBQ2IsVUFBTSxLQUFLLGFBQWE7QUFHeEIsU0FBSyx1QkFBbUI7QUFBQSxNQUN0QixNQUFNLEtBQUssa0JBQWtCO0FBQUEsTUFDN0IsS0FBSyxTQUFTO0FBQUEsTUFDZDtBQUFBLElBQ0Y7QUFHQSxTQUFLLFdBQVc7QUFBQSxNQUNkLElBQUk7QUFBQSxNQUNKLE1BQU07QUFBQSxNQUNOLFVBQVUsTUFBTSxLQUFLLGtCQUFrQixJQUFJO0FBQUEsSUFDN0MsQ0FBQztBQUdELFNBQUssV0FBVztBQUFBLE1BQ2QsSUFBSTtBQUFBLE1BQ0osTUFBTTtB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
